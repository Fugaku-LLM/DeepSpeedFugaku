# 350M model benchmarking results

## Overview
### Model hyperparameters
- --num-layers 12 
- --hidden-size 768 
- --num-attention-heads 12 

### Notations
- MBS = micro batch size
- GBS = global batch size
- Sec/it = seconds per iteration 
- Est. Aggr. PetaFLOPs = TFLOPs * Nodes / 1024

## Experiments

### Sequence Length=1024, w\o Activation Checkpointing, PyTorch 1.10
| Nodes | Size | DP | TP | PP | MBS |  GBS | Mem  | Sec/it | TFLOPs |Est. Aggr. PetaFLOPs| Notes |
| ----: | ---: | -: | -: | -: | --: |  --: | ---: | -----: | -----: | ---: | ----: |
|   1 | 124M |1 |  1 |  1 |   1 | 1024 |  - MiB | - | -| - |02-15, 21107476 |
|   1 (2.2Hz) | 124M |1 |  1 |  1 |   1 | 1024| - MiB | - | -| - |- |
|   2 | 124M | 2 |  1 |  1 |   1 | 1024 |  - MiB | - | -| - |- |
|   4 | 124M | 2 |  2 |  1 |   1 | 1024 |  - MiB | - | -| - |- |
|   64 | 124M | 64 |  2 |  1 |   1 | 1024 |  - MiB | - | -| - |- |
|   256 | 124M | 64 |  4 |  1 |   1 | 1024 |  - MiB | - | -| - |- |
| 512 | 124M | 512 |  1 | 1  |   1 | 1024 |8223.2 MiB | 3.7 | 0.43 | 0.215 |02-15 |
|  1024 | 124M | 1024 |  1 | 1  |   1 | 1024 | - MiB | 2.3 | 0.35?| 0.35? |02-15, 21107527|
| 1024 (2.2Hz) | 124M | 1024 |  1 | 1  |   1 | 1024 | - MiB | - | -| - |- |
| 2048 | 124M | 1024 |  2 | 1  |   1 | 1024 | - MiB | - | -| - |- |
| 4096 | 124M | 1024 |  4 | 1  |   1 | 1024 | - MiB | - | -| - |- |
